const RelatedTour = ({ data }) => {
  function parseDate(dateStr) {
    const [month, day, year] = dateStr.split('.');
    return new Date(year, month - 1, day);
  }

  const CalculateDateFunc = (startDateStr, endDateStr) => {
    const startDate = parseDate(startDateStr);
    const endDate = parseDate(endDateStr);
    const diffTime = Math.abs(startDate - endDate);
    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
    return diffDays;
  };

  return (
    <div className="w-[250px]" key={data.id + 1}>
      <img src={data.image} alt="" className="rounded-t-[15px]" />
      <div className="border p-5 rounded-b-[15px]">
        <h3 className="text-[18px] font-semibold font-mon text-text">
          {data.title}
        </h3>

        <div className="flex my-3 gap-[15px]">
          <p className="border text-[12px] font-medium font-mon px-5 py-1 rounded-2xl">
            {CalculateDateFunc(data.start, data.end) - 1} ночей
          </p>
          <p className="border text-[12px] font-medium font-mon px-5 py-1 rounded-2xl">
            {CalculateDateFunc(data.start, data.end)} дней
          </p>
        </div>
        <div className="">
          <p className="text-[#8D9093] text-[14px] font-[500] flex gap-[5px] items-center">
            <span>
              <svg
                width="18"
                height="14"
                viewBox="0 0 18 14"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                className="text-text"
              >
                <path
                  d="M1.698 13.25C2.80251 11.4077 5.22323 10.1468 8.9999 10.1468C12.7766 10.1468 15.1973 11.4077 16.3018 13.25M11.9999 3.75C11.9999 5.40685 10.6567 6.75 8.9999 6.75C7.34304 6.75 5.99989 5.40685 5.99989 3.75C5.99989 2.09315 7.34304 0.75 8.9999 0.75C10.6567 0.75 11.9999 2.09315 11.9999 3.75Z"
                  stroke="#004280"
                  strokeWidth="1.5"
                  strokeLinecap="round"
                />
              </svg>
            </span>
            За 1-го человека
          </p>
          <p className="text-[#8D9093] my-2 flex items-center gap-[5px] text-[14px] font-[500]">
            <span>
              <svg
                width="20"
                height="15"
                viewBox="0 0 20 15"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M17.4243 1.00334C17.5686 1.0135 17.7586 1.04062 17.8466 1.06773C17.9345 1.09484 18.0823 1.15923 18.1808 1.21345C18.2759 1.26429 18.4272 1.37612 18.5151 1.46085C18.6031 1.54557 18.7192 1.6913 18.772 1.7828C18.8283 1.87769 18.8952 2.02003 18.9233 2.10475C18.9515 2.18947 18.9831 2.35553 18.9937 2.47754C19.0078 2.60632 18.9972 2.78254 18.9726 2.90116C18.9515 3.01299 18.8811 3.20277 18.8213 3.32478C18.7615 3.45356 18.6313 3.62639 18.5187 3.74162C18.3849 3.87379 18.2407 3.97546 18.0753 4.05001C17.938 4.1144 17.0513 4.41263 14.3805 5.26665L12.9131 7.74398C12.1038 9.10634 11.4141 10.2484 11.3824 10.2823C11.3473 10.3128 10.7737 10.5161 10.1051 10.7297C9.36967 10.9635 8.85592 11.1092 8.80314 11.0991C8.75388 11.0923 8.66942 11.0448 8.61664 10.9906C8.56386 10.9398 8.51811 10.8686 8.5146 10.8313C8.51108 10.794 8.5146 10.733 8.5146 10.6958C8.51811 10.6585 8.81018 9.72652 9.16558 8.62172C9.51746 7.51692 9.79897 6.60868 9.78841 6.59851C9.77786 6.59173 8.40903 6.94757 6.74462 7.39492C5.08021 7.83887 3.67267 8.20488 3.61285 8.20488C3.55303 8.20827 3.46154 8.17099 3.40524 8.13032C3.34542 8.08627 2.80704 7.41864 2.20532 6.64596C1.60008 5.87327 1.07929 5.18532 1.04762 5.12092C1.00187 5.0362 0.991318 4.96842 1.00891 4.8837C1.03003 4.7922 1.13207 4.67019 1.44525 4.36519C1.67045 4.1449 1.90622 3.94496 1.96604 3.91784C2.03641 3.88734 2.12087 3.87718 2.17717 3.89073C2.23347 3.9009 2.6698 4.16524 3.1554 4.47702C3.63748 4.78881 4.10197 5.07687 4.18642 5.11415C4.28143 5.16159 4.40107 5.1887 4.51719 5.1887C4.67202 5.1887 5.69249 4.8532 10.7385 3.13499C14.0568 2.00647 16.8613 1.06095 16.9668 1.03723C17.09 1.00673 17.2589 0.993171 17.4243 1.00334ZM10.9496 3.83312L4.84445 5.91394C4.33773 5.91733 4.18642 5.897 4.05271 5.85294C3.94362 5.81566 3.49673 5.55471 3.01465 5.24632L2.17013 4.70747L1.86751 5.00231C3.31727 6.86624 3.75009 7.41186 3.76416 7.41864C3.77824 7.42542 5.24911 7.03908 7.03316 6.56462C8.82073 6.08678 10.3374 5.69705 10.4042 5.69705C10.4957 5.69705 10.5555 5.72416 10.6329 5.79872C10.7104 5.87327 10.7385 5.93089 10.7385 6.019C10.7385 6.08339 10.45 7.03569 10.0946 8.1371C9.74267 9.23512 9.46116 10.1434 9.47172 10.1501C9.48228 10.1603 9.79897 10.0722 10.1755 9.95019L10.8617 9.7333C13.1806 5.83938 13.8843 4.69053 13.923 4.6668C13.9618 4.64308 14.8168 4.35841 15.8232 4.03646C16.8296 3.71451 17.7093 3.42306 17.7762 3.39255C17.843 3.35867 17.9521 3.27394 18.019 3.20277C18.0858 3.12822 18.1632 3.01638 18.1914 2.95199C18.2196 2.8876 18.2407 2.74865 18.2407 2.64698C18.2442 2.54531 18.2266 2.3962 18.202 2.31825C18.1773 2.22675 18.1034 2.10814 17.9943 1.99969C17.8958 1.90141 17.7727 1.80991 17.6882 1.7828C17.6108 1.75908 17.4912 1.72858 17.4243 1.7218C17.3574 1.71163 17.2448 1.71841 17.178 1.72858C17.1111 1.74213 14.3066 2.69104 10.9496 3.83312ZM1.24467 13.2883H13.5184L13.6239 13.39C13.6803 13.4476 13.733 13.5255 13.733 13.5696C13.7366 13.6103 13.733 13.6747 13.7295 13.7119C13.726 13.7492 13.6943 13.8136 13.6627 13.8577C13.631 13.9017 13.5571 13.9492 13.5008 13.9695C13.4339 13.9898 11.1748 14 7.34986 14C2.05049 14 1.29394 13.9932 1.20245 13.9492C1.14263 13.9221 1.07225 13.8475 1.04058 13.7899C1.00539 13.7187 0.991318 13.6374 1.00539 13.5696C1.01947 13.5018 1.07225 13.4239 1.13559 13.373L1.24467 13.2883Z"
                  fill="#004280"
                  stroke="#004280"
                  strokeWidth="0.5"
                />
              </svg>
            </span>
            {data.from} - {data.to}
          </p>
        </div>
        <div className="flex  items-center">
          <p className="text-text text-[24px] font-[700]">{data.price}</p>
          <del className="text-[#BBBCBE] ml-2">${data.discount}</del>
        </div>
        <button className="text-white w-full mt-3 bg-text p-[10px] rounded-[10px]">
          Подробнее
        </button>
      </div>
    </div>
  );
};

export default RelatedTour;
